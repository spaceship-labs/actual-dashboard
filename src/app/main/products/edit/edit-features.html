<section class="md-whiteframe-z1">
  <md-toolbar class="demo-toolbar md-primary">
    <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
      <h3>CARACTERSTICAS</h3>
       <md-button ng-click="vm.updateFeatures(featuresForm)" class="md-raised md-primary action-button">Guardar</md-button>
    </div>
  </md-toolbar>
  <md-content class="md-padding">

    <form name="featuresForm" ng-submit="vm.updateFeatures(featuresForm)" class="md-inline-form" novalidate>


      <!--FILTERS-->
      <div>
        <div layout="row" layout-wrap layout-align="start start">
          <div ng-repeat="filter in vm.filters | orderBy: 'IsMultiple'" class="filter-column" flex="33" flex-xs="100">
            <p ng-if="filter.IsMultiple"><label><strong>{{filter.Name}}</strong></label></p>

            <div ng-if="filter.IsMultiple && filter.Name != 'Color paleta' " class="scroll-column">

              <!--
              <md-checkbox class="spaced-checkbox block-checkbox" ng-repeat="value in filter.Values" ng-model="value.selected">{{value.Name}}</md-checkbox>
              -->

              <md-input-container class="checkboxes-dropdown-wrap">
                <md-select class="checkboxes-dropdown select-element" ng-model="filter.selectedValues"
                   data-md-container-class="selectdemoSelectHeader"
                   multiple
                >
                  <md-optgroup label="Valores">
                    <md-option ng-value="value.id" ng-repeat="value in filter.Values |
                      filter:searchTerm">{{value.Name}}</md-option>
                  </md-optgroup>
                </md-select>
              </md-input-container>

            </div>

            <div ng-if="!filter.IsMultiple && filter.Name != 'Color paleta' ">
              <p class="select-element-label"><label><strong>{{filter.Name}}</strong></label></p>
              <md-input-container>
                <md-select class="select-element" placeholder="{{filter.Name}}" ng-model="filter.selectedValue">
                  <md-option value="false">Ninguno</md-option>
                  <md-option ng-repeat="value in filter.Values track by $index" value="{{$index}}">
                    {{value.Name}}
                  </md-option>
                </md-select>
              </md-input-container>
            </div>

            <!--COLOR-->
            <div ng-if="filter.Name == 'Color' || filter.Name == 'Color paleta' ">
              <div layout="row" layout-wrap class="colorpicker-sp md-whiteframe-1dp">
                <a
                  ng-repeat="color in filter.Values"
                  ng-click="vm.toggleColor(color.id, filter)"
                  ng-class="{'wrap-on': vm.isActiveColor(color.id, filter)}"
                  class="colorpicker-sp-color-wrap"
                  flex="33"
                  title="{{color.Name}}"
                  >
                  <span class="colorpicker-sp-color"  ng-style="{'background-color': color.Code}"></span>
                </a>
              </div>
            </div>

          </div>
        </div>


      </div>
      <!--END FILTERS-->

      <div class="input-element">
        <label>Color detallado*</label>
        <div class="input-element-inner">
          <input type="text" ng-model="vm.product.DetailedColor" name="DetailedColor" required placeholder="Color detallado *">
        </div>
        <p class="input-hint"><strong>SAP:</strong> {{vm.product.U_COLOR}}</p>
        <div ng-messages="featuresForm.DetailedColor.$error" ng-show="featuresForm.DetailedColor.$touched"
             role="alert">
            <div ng-message="required">
                <span>Este campo es requerido.</span>
            </div>
        </div>
      </div>
      <!--END COLOR-->

      <!--ASIENTOS-->
      <!--
      <div class="input-element number-element">
        <label>Asientos</label>
        <div class="input-element-inner">
          <input type="number" min="0" max="10" ng-model="vm.product.Seats" >
        </div>
      </div>
      -->
      <!--END ASIENTOS-->

      <!--GARANTIA-->
      <div class="wyswyg-block">
        <h2><strong>GARANTIA</strong></h2>
        <label for=""><strong>Texto garantia</strong></label>
        <wysiwyg-edit content="vm.product.GuaranteeText"></wysiwyg-edit>
      </div>

      <div layout="row" layout-wrap layout-align="space-between start">
        <div class="input-element number-element" flex="45" flex-xs="100">
          <label>Tiempo de garantia</label>
          <div class="input-element-inner">
            <input type="number" min="0" ng-model="vm.product.GuaranteeUnit">
          </div>
          <p class="input-hint"><strong>SAP:</strong> {{vm.product.U_garantia}}</p>
        </div>

        <div class="input-element" flex="45" flex-xs="100">
          <p class="select-element-label"><label><strong>Tiempo de garantia (Unidad de medida)</strong></label></p>
          <md-input-container>
            <md-select class="select-element" placeholder="Tiempo de garantia (Unidad de medida)" ng-model="vm.product.GuaranteeUnitMsr">
              <md-option ng-repeat="guarenteeUnit in vm.guarenteeUnits" value="{{guarenteeUnit.value}}">
                {{guarenteeUnit.label}}
              </md-option>
            </md-select>
          </md-input-container>
        </div>
      </div>
      <!--END GARANTIA-->

      <section layout="row" layout-wrap layout-align="space-between start">

        <div class="select-element-wrapper" flex="45" flex-xs="100">
          <p class="select-element-label"><label><strong>Pais de producci칩n (Dise침ado en)</strong></label></p>
          <md-select class="select-element" placeholder="Pais de producci칩n (Dise침ado en)" ng-model="vm.product.DesignedInCountry">
            <md-option ng-repeat="(code, country) in vm.countries" value="{{code}}">
              {{country}}
            </md-option>
          </md-select>
          <p class="input-hint"><strong>SAP:</strong> {{vm.product.U_disenado_en}}</p>
        </div>

        <div class="select-element-wrapper" flex="45" flex-xs="100">
          <p class="select-element-label"><label><strong>Pais de ensamble (Hecho en)</strong></label></p>
          <md-select  class="select-element" placeholder="Pais de ensamble (Hecho en)" ng-model="vm.product.MadeInCountry">
            <md-option ng-repeat="(code, country) in vm.countries" value="{{code}}">
              {{country}}
            </md-option>
          </md-select>
          <p class="input-hint"><strong>SAP:</strong> {{vm.product.U_ensamblado_en}}</p>
        </div>

      </section>

      <div layout="row" layout-align="end center">
        <md-button ng-click="vm.updateFeatures(featuresForm)" class="md-raised md-primary action-button">Guardar</md-button>
      </div>

    </form>

  </md-content>
</section>
